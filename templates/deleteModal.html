<!-- Delete Confirmation Modal -->
<div id="deleteConfirmModal" class="hidden fixed inset-0 z-[9999] flex items-center justify-center bg-black/40">
    <div class="bg-white rounded-2xl shadow-lg p-6 w-[320px]">
        <h2 class="text-lg font-semibold text-gray-800 mb-6 text-center">Are you sure?</h2>

        <div class="flex justify-center gap-4">
            <button id="cancelDeleteBtn"
                class="px-4 py-2 rounded-full border border-gray-400 text-gray-700 hover:bg-gray-100 transition">
                Cancel
            </button>
            <button id="confirmDeleteBtn"
                class="px-4 py-2 rounded-full bg-red-500 hover:bg-red-600 text-white font-medium transition">
                Delete
            </button>
        </div>
    </div>
</div>
<script>

    // Elements
    const deleteConfirmModal = document.getElementById('deleteConfirmModal');
    const cancelDeleteBtn = document.getElementById('cancelDeleteBtn');
    const confirmDeleteBtn = document.getElementById('confirmDeleteBtn');

    // Track which item is being deleted
    let productToDelete = null;

    // Open modal (called when user clicks delete)
    function openDeleteModal(productId) {
        productToDelete = productId;
        deleteConfirmModal.classList.remove('hidden');
    }

    // Close modal
    function closeDeleteModal() {
        productToDelete = null;
        deleteConfirmModal.classList.add('hidden');
    }

    // Button actions
    cancelDeleteBtn.addEventListener('click', closeDeleteModal);

    confirmDeleteBtn.addEventListener('click', () => {
        if (productToDelete) {
            // Example: call your delete endpoint
            fetch(`/delete-product/${productToDelete}/`, {
                method: 'DELETE',
                headers: { 'X-CSRFToken': getCookie('csrftoken') },
            })
                .then(res => {
                    if (res.ok) {
                        console.log(`Deleted product ${productToDelete}`);
                        // Optionally refresh list
                        location.reload();
                    }
                })
                .finally(closeDeleteModal);
        }
    });

</script>